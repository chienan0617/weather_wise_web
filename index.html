<!DOCTYPE html>
<html>

<head>
  <!-- <base href="/"> -->

  <meta charset="UTF-8">
  <meta content="IE=Edge" http-equiv="X-UA-Compatible">
  <meta name="description" content="Weather Wise">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#1C1933">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1C1933">


  <!-- iOS meta tags & icons -->
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="Weather Wise">
  <link rel="apple-touch-icon" href="icons/Icon-192.png">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="./favicon.png">

  <title>weather_wise</title>
  <link rel="manifest" href="./manifest.json">


  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport">

  <style>
    /* TopBar 容器樣式 */
    .topBar {
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      background-color: #1C1933;
      color: #FFF;
      padding: 12px 20px;
      border-radius: 8px;
      display: none;
      align-items: center;
      gap: 16px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      z-index: 1000;
    }

    /* 訊息文字調整 */
    .topBar p {
      margin: 0;
      font-size: 14px;
    }

    /* 實際按鈕樣式 */
    .topBarButton button {
      background-color: #2B12EB;
      color: #FFF;
      border: none;
      padding: 8px 16px;
      font-size: 14px;
      border-radius: 6px;
      cursor: pointer;
      transition: background-color .3s, transform .1s;
    }

    /* 滑鼠懸停效果 */
    .topBarButton button:hover {
      background-color: #1F0EC9;
      transform: translateY(-1px);
    }

    /* 按下效果 */
    .topBarButton button:active {
      background-color: #1A0AA0;
      transform: translateY(1px);
    }

    /* Web-Alpha 測試版提示 */
    .web-version {
      position: fixed;
      top: 80px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(28, 25, 51, 0.9);
      color: #FFF;
      padding: 6px 12px;
      font-size: 12px;
      border-radius: 6px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
      z-index: 999;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .web-version::before {
      content: "⚙️";
    }
  </style>
</head>

<body>
  <!-- iOS Safari 加主畫面提示 -->
  <div id="a2hs-banner" class="topBar">
    <p>在 Safari 中點擊「分享」➜「加入主畫面」</p>
    <div class="topBarButton"><button onclick="dismissIosBanner()">知道了</button></div>
  </div>

  <!-- Web‑Alpha 測試版提示 -->
  <div class="web-version">Web‑Alpha 測試版</div>

  <!-- Flutter Bootstrapping -->
  <script src="./flutter_bootstrap.js" async></script>

  <script>
    // iOS 加主畫面提示
    function isIos() {
      return /iphone|ipad|ipod/i.test(navigator.userAgent);
    }

    window.addEventListener('load', () => {
      // 檢查是否為 PWA 模式
      if (window.matchMedia('(display-mode: standalone)').matches) {
        // 如果是 PWA 模式，隱藏提示橫幅
        document.getElementById('a2hs-banner').style.display = 'none';
        document.querySelector('.web-version').style.display = 'none';
      } else {
        // 如果不是 PWA 模式，顯示 iOS 加主畫面提示
        if (isIos() && !navigator.standalone) {
          document.getElementById('a2hs-banner').style.display = 'flex';
        }
      }
    });

    function dismissIosBanner() {
      document.getElementById('a2hs-banner').style.display = 'none';
    }

    // 監聽 Flutter 載入完成事件
    window.addEventListener('flutter-loaded', () => {
      // 隱藏提示橫幅
      document.querySelector('.web-version').style.display = 'none';
    });
  </script>
  </script>


  <style id="splash-screen-style">
    html {
      height: 100%
    }

    body {
      margin: 0;
      min-height: 100%;
      background-color: #111121;
      background-size: 100% 100%;
    }

    .center {
      margin: 0;
      position: absolute;
      top: 50%;
      left: 50%;
      -ms-transform: translate(-50%, -50%);
      transform: translate(-50%, -50%);
    }

    .contain {
      display: block;
      width: 100%;
      height: 100%;
      object-fit: contain;
    }

    .stretch {
      display: block;
      width: 100%;
      height: 100%;
    }

    .cover {
      display: block;
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .bottom {
      position: absolute;
      bottom: 0;
      left: 50%;
      -ms-transform: translate(-50%, 0);
      transform: translate(-50%, 0);
    }

    .bottomLeft {
      position: absolute;
      bottom: 0;
      left: 0;
    }

    .bottomRight {
      position: absolute;
      bottom: 0;
      right: 0;
    }
  </style>
  <script id="splash-screen-script">
    function removeSplashFromWeb() {
      document.getElementById("splash")?.remove();
      document.getElementById("splash-branding")?.remove();
      document.body.style.background = "transparent";
    }
  </script>
  </head>

  <body>
    <picture id="splash">
      <source
        srcset="splash/img/light-1x.png 1x, splash/img/light-2x.png 2x, splash/img/light-3x.png 3x, splash/img/light-4x.png 4x"
        media="(prefers-color-scheme: light)">
      <source
        srcset="splash/img/dark-1x.png 1x, splash/img/dark-2x.png 2x, splash/img/dark-3x.png 3x, splash/img/dark-4x.png 4x"
        media="(prefers-color-scheme: dark)">
      <img class="center" aria-hidden="true" src="splash/img/light-1x.png" alt="">
    </picture>


























    <script src="./flutter_bootstrap.js" async=""></script>


  </body>

</html>